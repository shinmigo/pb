syntax = "proto3";

//option go_package = ".;memberpb";
package memberpb;

// 会员服务
service MemberService {
    rpc GetList(ListRequest) returns (ListResponse) {}   // 获取会员列表
    rpc GetDetail(DetailRequest) returns (Member) {}    // 获取会员详情
    rpc Create(CreateRequest)  returns (Response) {}    // 添加会员
    rpc Update(UpdateRequest)  returns (Response) {}    // 编辑会员
    rpc UpdateStatus(UpdateStatusRequest)  returns (Response) {}    // 冻结和解冻（支持批量操作）
}

// 通用response
message Response {
    string code = 1;
    string msg = 2;
}

// 会员信息
message Member {
    uint64 memberId = 1;    // 会员ID
    string nickname = 2;    // 昵称
    uint32 status = 3;  // 会员状态 0 冻结 1整除
    string statusText = 4; // 状态说明
    string mobile = 5;  // 手机号
    string memberLevelId = 6;  // 会员等级
    string memberLevelName = 7;  // 会员等级名称
    string lastLoginTime = 8; // 最后登录时间
    uint32 gender = 9;  // 性别
    string birthDay = 10; // 生日
}

// 会员列表的参数
message ListRequest {
    string mobile = 1;  // 手机号
    uint32 status = 2; // 会员状态 0 冻结 1整除
    uint64 memberId = 3;    // 会员ID
    uint32 pageSize = 4;
    uint32 page = 5;
}

// 列表返回数据
message ListResponse {
    repeated Member Members = 1;    // 会员的切片
}

message DetailRequest{
    uint64 memberId = 1;    // 会员ID
}

// 新增会员的参数
message CreateRequest {
    string nickname = 1;     // 昵称
    string mobile = 2;  // 手机号
    uint32 status = 3;  // 会员状态 0 冻结 1整除
    uint32 gender = 4;  // 性别
    string birthDay = 5; // 生日
    string memberLevelId = 6; // 会员等级
    string operator = 7;    // 操作人
}

// 更新会员的参数
message UpdateRequest {
    string nickname = 1;     // 昵称
    string mobile = 2;  // 手机号
    uint32 status = 3;  // 会员状态 0 冻结 1整除
    uint32 gender = 4;  // 性别
    string birthDay = 5; // 生日
    string memberLevelId = 6; // 会员等级
    uint64 memberId = 7;    // 会员ID
    string operator = 8;    // 操作人
}

// 更新会员状态
message UpdateStatusRequest {
    uint64 memberId = 1;    // 会员ID
    uint32 status = 2;  // 会员状态 0 冻结 1整除
    string operator = 3;    // 操作人
}
